raw <- read_html(url$V1[i])
rawl <- html_nodes(raw,"#BH-slave ul:nth-child(1) li")%>%html_text(raw)
rate.i = data.frame(rawl)
rawl <- html_nodes(raw,".ACG-persent span ")%>%html_text(raw)
rate.i = data.frame(rate.i,rawl)
if(i == 1){
rate = data.frame(rate.i)
}
else{
rate = data.frame(rate,rate.i)
}
}
View(rate)
raw <- read_html(url$V1[i],encoding＝‘UTF-8’)
raw <- read_html(url$V1[i],encoding='UTF-8')
for(i in c(1:20)){
raw <- read_html(url$V1[i],encoding='UTF-8')
rawl <- html_nodes(raw,"#BH-slave ul:nth-child(1) li")%>%html_text(raw)
rawl2 <- html_nodes(raw,".ACG-persent span ")%>%html_text(raw)
rate.i = data.frame(rawl1,rawl2)
if(i == 1){
rate = data.frame(rate.i)
}
else{
rate = data.frame(rate,rate.i)
}
}
for(i in c(1:20)){
raw <- read_html(url$V1[i],encoding='UTF-8')
rawl1 <- html_nodes(raw,"#BH-slave ul:nth-child(1) li")%>%html_text(raw)
rawl2 <- html_nodes(raw,".ACG-persent span ")%>%html_text(raw)
rate.i = data.frame(rawl1,rawl2)
if(i == 1){
rate = data.frame(rate.i)
}
else{
rate = data.frame(rate,rate.i)
}
}
for(i in c(1:20)){
raw <- read_html(url$V1[i])
rawl1 <- html_nodes(raw,"#BH-slave ul:nth-child(1) li")%>%html_text(raw)
rawl2 <- html_nodes(raw,".ACG-persent span ")%>%html_text(raw)
rate.i = data.frame(rawl1,rawl2)
if(i == 1){
rate = data.frame(rate.i)
}
else{
rate = data.frame(rate,rate.i)
}
}
View(rate)
for(i in c(1:20)){
raw <- read_html(url$V1[i])
fea <- html_nodes(raw,"#BH-slave ul:nth-child(1) li")%>%html_text(raw)
per <- html_nodes(raw,".ACG-persent span ")%>%html_text(raw)
rate.i = data.frame(fea,per)
if(i == 1){
rate = data.frame(rate.i)
}
else{
rate = data.frame(rate,rate.i)
}
}
View(rate)
#fix bug manually
bug1=list["輕鬆休閒","耐玩度","自由度","音樂音效","遊戲系統"]
bug2=list["遊戲畫面","自由度","爽快度","耐玩度","作品劇情"]
for(i in c(1:5)){
rate$fea9[i]=bug1[i]
rate$fea18[i]=bug2[i]
}
View(rate)
#fix bug manually
bug1=c["輕鬆休閒","耐玩度","自由度","音樂音效","遊戲系統"]
#fix bug manually
bug1=c("輕鬆休閒","耐玩度","自由度","音樂音效","遊戲系統")
bug2=c("遊戲畫面","自由度","爽快度","耐玩度","作品劇情")
for(i in c(1:5)){
rate$fea9[i]=bug1[i]
rate$fea18[i]=bug2[i]
}
View(rate)
for(i in c(1:20)){
raw <- read_html(url$V1[i])
fea <- html_nodes(raw,"#BH-slave ul:nth-child(1) li")%>%html_text(raw)
per <- html_nodes(raw,".ACG-persent span ")%>%html_text(raw)
rate.i = data.frame(fea,per)
if(i == 1){
rate = data.frame(rate.i)
}
else{
rate = data.frame(rate,rate.i)
}
}
for(i in c(1:20)){
raw <- read_html(url$V1[i])
fea <- html_nodes(raw,"#BH-slave ul:nth-child(1) li")%>%html_text(raw)
per <- html_nodes(raw,".ACG-persent span ")%>%html_text(raw)
rate.i = data.frame(fea,per)
if(i == 1){
rate = data.frame(rate.i)
}
else{
rate = data.frame(rate,rate.i)
}
}
View(rate)
View(rate)
for(i in c(1:5)){
rate$fea.9[i]=bug1[i]
rate$fea.18[i]=bug2[i]
}
rate$fea.1[i]=bug1[i]
#fix bug manually
bug1=c("作品劇情","音樂音效","角色設定","=世界觀","題材創意")
for(i in c(1:5)){
rate$fea.1[i]=bug1[i]
}
#fix bug manually
bug1=c("作品劇情","音樂音效","角色設定","世界觀","題材創意")
for(i in c(1:5)){
rate$fea.1[i]=bug1[i]
}
#fix bug manually
bug1=as.factor(c("作品劇情","音樂音效","角色設定","世界觀","題材創意"))
for(i in c(1:5)){
rate$fea.1[i]=bug1[i]
}
for(i in c(1:20)){
raw <- read_html(url$V1[i])
fea <- html_nodes(raw,"#BH-slave ul:nth-child(1) li")%>%html_text(raw)
per <- html_nodes(raw,".ACG-persent span ")%>%html_text(raw)
rate.i = data.frame(fea,per)
if(i == 1){
rate = data.frame(rate.i)
}
else{
rate = data.frame(rate,rate.i)
}
}
View(rate)
#fix bug manually
bug1=c("輕鬆休閒","耐玩度","自由度","音樂音效","遊戲系統")
bug2=c("遊戲畫面","自由度","爽快度","耐玩度","作品劇情")
for(i in c(1:5)){
rate$fea9[i]=bug1[i]
rate$fea18[i]=bug2[i]
}
for(i in c(1:20)){
raw <- read_html(url$V1[i])
fea <- html_nodes(raw,"#BH-slave ul:nth-child(1) li")%>%html_text(raw)
per <- html_nodes(raw,".ACG-persent span ")%>%html_text(raw)
rate.i = data.frame(fea,per)
if(i == 1){
rate = data.frame(rate.i)
}
else{
rate = data.frame(rate,rate.i)
}
}
for(i in c(1:20)){
raw <- read_html(url$V1[i])
fea <- html_nodes(raw,"#BH-slave ul:nth-child(1) li")%>%html_text(raw)
per <- html_nodes(raw,".ACG-persent span ")%>%html_text(raw)
rate.i = data.frame(fea,per)
if(i == 1){
rate = data.frame(rate.i)
}
else{
rate = data.frame(rate,rate.i)
}
}
View(rate)
#fix bug manually
bug0=c("作品劇情","音樂音效","角色設定","世界觀","題材創意")
for(i in c(1:20)){
raw <- read_html(url$V1[i])
fea <- html_nodes(raw,"#BH-slave ul:nth-child(1) li")%>%html_text(raw)
per <- html_nodes(raw,".ACG-persent span ")%>%html_text(raw)
rate.i = data.frame(fea,per,stringsAsFactors=FALSE)
if(i == 1){
rate = data.frame(rate.i,stringsAsFactors=FALSE)
}
else{
rate = data.frame(rate,rate.i,stringsAsFactors=FALSE)
}
}
write.csv("featurerate.csv")
write.csv(rate,"feature_rate.csv")
rank
plotly(rank, x =~作品名稱 ,x = ~評分,type = "scatter")
plot_ly(rank, x =~作品名稱 ,x = ~評分,type = "scatter")
plot_ly(rank, x =~作品名稱 ,y = ~評分,type = "scatter")
rank
p <- plot_ly(rank, labels = ~類型, values = ~X1960, type = 'pie') %>%
layout(title = '巴哈姆特PC遊戲評分前20類型比例',
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))
p <- plot_ly(rank, labels = ~類型, type = 'pie') %>%
layout(title = '巴哈姆特PC遊戲評分前20類型比例',
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))
p <- plot_ly(rank, labels = ~類型, type = 'pie') %>%
layout(title = '巴哈姆特PC遊戲評分前20類型比例',
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))
p <- plot_ly(rank, values = ~類型, type = 'pie') %>%
layout(title = '巴哈姆特PC遊戲評分前20類型比例',
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))
p <- plot_ly(rank, labels = ~類型,values = ~類型, type = 'pie') %>%
layout(title = '巴哈姆特PC遊戲評分前20類型比例',
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))
p
res <- count(rank$類型, ID)
rank.an %>% rank.an
rank.an = rank
rank.an %>% rank.an
rank.an = rank.an %>%
group_by(類型) %>%
summarise(no_rows = length(ID))
rank.an = rank.an %>%
group_by(類型) %>%
summarise(no_rows = length(類型))
rank.an
View(rank)
for(i in c(0:19)){
raw <- read_html(url$V1[i])
fea <- html_nodes(raw,"#BH-slave ul:nth-child(1) li")%>%html_text(raw)
per <- html_nodes(raw,".ACG-persent span ")%>%html_text(raw)
rate.i = data.frame(fea,per,stringsAsFactors=FALSE)
if(i == 1){
rate = data.frame(rate.i,stringsAsFactors=FALSE)
}
else{
rate = data.frame(rate,rate.i,stringsAsFactors=FALSE)
}
}
rank = read.csv("RATE.csv")
View(rank)
rate = read.csv("feature_rate.csv"stringsAsFactors=FALSE,header = T)
View(rate)
rank = read.csv("RATE.csv")
rank = read.csv("RATE.csv")
View(rank)
url = read.csv("url.csv",stringsAsFactors=FALSE,header = F)
rate = read.csv("feature_rate.csv",stringsAsFactors=FALSE,header = T)
rank.an = rank
rank.an = rank.an %>%
group_by(類型) %>%
summarise(no_rows = length(類型))
rank.an
plot_ly(rank.an, labels = ~類型,values = ~no_rows, type = 'pie') %>%
layout(title = '巴哈姆特PC遊戲評分前20類型比例',
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))
rank
View(rank)
rank = read.csv("RATE.csv"stringsAsFactors=FALSE)
#category
rank.an = rank
rank.an = rank.an %>%
group_by(類型) %>%
summarise(no_rows = length(類型))
plot_ly(rank.an, labels = ~類型,values = ~no_rows, type = 'pie') %>%
layout(title = '巴哈姆特PC遊戲評分前20類型比例',
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))
rank = read.csv("RATE.csv"stringsAsFactors=FALSE)
rank$發售日期=as.Date(x, format, tryFormats = c("%Y-%m-%d", "%Y/%m/%d"),
optional = FALSE)
View(rank)
mat,
rank$發售日期=as.Date(rank$發售日期, format, tryFormats = c("%Y-%m-%d", "%Y/%m/%d"),
optional = FALSE)
#released date
plot_ly(rank, x= ~發售日期 ,y= ~作品名稱, type = 'scatter')
rank = read.csv("RATE.csv"stringsAsFactors=FALSE)
rank = read.csv("RATE.csv",stringsAsFactors=FALSE)
#released date
plot_ly(rank, x= ~發售日期 ,y= ~作品名稱, type = 'scatter')
#released date
plot_ly(rank, x= ~發售日期 ,y= as.factor(~作品名稱), type = 'scatter')
rank.an = rank.an %>%
group_by(類型) %>%
summarise(no_rows = length(類型))
plot_ly(rank.an, labels = ~類型,values = ~no_rows, type = 'pie') %>%
layout(title = '巴哈姆特PC遊戲評分前20類型比例',
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))
#category
rank.an = rank
rank.an = rank.an %>%
group_by(類型) %>%
summarise(no_rows = length(類型))
plot_ly(rank.an, labels = ~類型,values = ~no_rows, type = 'pie') %>%
layout(title = '巴哈姆特PC遊戲評分前20類型比例',
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))
#released date
plot_ly(rank, x= ~發售日期 ,y= as.factor(~作品名稱), type = 'scatter')
rank$date = as.factor(rank$發售日期)
#released date
plot_ly(rank, x= ~發售日期 ,y= ~date, type = 'scatter')
#released date
plot_ly(rank, x= ~date ,y= ~作品名稱, type = 'scatter')
rank = read.csv("RATE.csv",stringsAsFactors=FALSE)
#released date
plot_ly(rank, x= ~排行 ,y= ~作品名稱, type = 'scatter')
#released date
plot_ly(rank, x= ~發售日期 ,y= ~排行, type = 'scatter')
#released date
plot_ly(rank, x= ~發售日期 ,y= (21-~排行), type = 'scatter')
rank$point = 21-rank$排行
url = read.csv("url.csv",stringsAsFactors=FALSE,header = F)
plot_ly(rank, x= ~發售日期 ,y= ~point, type = 'scatter')
plot_ly(rank, x= ~人氣 ,y= ~point, type = 'scatter')
plot_ly(rank, x= ~發售日期 ,y= ~point, type = 'scatter',mode="marker",text = ~paste('遊戲名稱: ', ~作品名稱))
plot_ly(rank, x= ~發售日期 ,y= ~point, type = 'scatter',mode="marker",text = ~paste('遊戲名稱: ', 作品名稱))
plot_ly(rank, x= ~發售日期 ,y= ~point, type = 'scatter',mode="markers",text = ~paste('遊戲名稱: ', 作品名稱))
knitr::opts_chunk$set(echo = TRUE)
library(rvest)
library(tidytext)
library(tm)
library(plotly)
library(dplyr)
setwd("C:/Users/perot/Desktop/NTU-CSX4001/Week_6&7&8(Project_1)")
rank = read.csv("RATE.csv",stringsAsFactors=FALSE)
rank$point = 21-rank$排行
url = read.csv("url.csv",stringsAsFactors=FALSE,header = F)
rate = read.csv("feature_rate.csv",stringsAsFactors=FALSE,header = T)
rank
#category
rank.an = rank
rank.an = rank.an %>%
group_by(類型) %>%
summarise(no_rows = length(類型))
plot_ly(rank.an, labels = ~類型,values = ~no_rows, type = 'pie') %>%
layout(title = '巴哈姆特PC遊戲評分前20類型比例',
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))
#released date
plot_ly(rank, x= ~發售日期 ,y= ~point, type = 'scatter',mode="markers",text = ~paste('遊戲名稱: ', 作品名稱))
knitr::opts_chunk$set(echo = TRUE)
library(rvest)
library(tidytext)
library(tm)
library(plotly)
library(dplyr)
setwd("C:/Users/perot/Desktop/NTU-CSX4001/Week_6&7&8(Project_1)")
rank = read.csv("RATE.csv",stringsAsFactors=FALSE)
rank$point = 21-rank$排行
url = read.csv("url.csv",stringsAsFactors=FALSE,header = F)
rate = read.csv("feature_rate.csv",stringsAsFactors=FALSE,header = T)
view(rank)
library(knitr)
View(rate.i)
View(rate)
rate = read.csv("feature_rate.csv",stringsAsFactors=FALSE,header = T)
rate[2*i-1]
View(rank.an)
View(rate)
rate[2*i-1]
rate[i]
i=1
rate[i]
i=1
rate[2*i-1]
i=3
rate[2*i-1]
rateall= rateall + rate[2*i-1]
rateall=c()
rateall= rateall + rate[2*i-1]
rateall= c(rate[2*i-1])
View(rateall)
rateall = rate[2*i-1]
View(rateall)
rateall = erge(rateall,rate[2*i-1])
rateall = merge(rateall,rate[2*i-1])
View(rateall)
##玩家注重的東西
```{r tags}
if(i ==1)    rateall = rate[2*i-1]
rateall = merge(rateall,rate[2*i-1])
else{
for(i in c(1:20)){
if(i ==1){
rateall = rate[2*i-1]
}
else{
rateall = merge(rateall,rate[2*i-1])
}
}
cou = c()
append(cou,j)
for(i in c(1:20)){
for(j in rate[2*i-1]){
append(cou,j)
}
}
append(cou, j, after = length(x))
append(cou, j, after = length(cou))
for(i in c(1:20)){
for(j in rate[2*i-1]){
j
append(cou, j, after = length(cou))
}
}
j
j
append(cou, j, after = length(cou))
i=1
j=3
j
i=1
for(j in rate[2*i-1]){
}
j
for(j in rate[[2*i-1]]){
}
append(cou,j)
for(i in c(1:20)){
for(j in rate[[2*i-1]]){
append(cou,j)
}
}
cou = c(cou,j)
cou = c()
for(i in c(1:20)){
for(j in rate[[2*i-1]]){
cou = c(cou,j)
}
}
data.frame(cou)
cou = cou %>%
group_by(cou) %>%
summarise(no_rows = length(類型))
data.frame(as.vector(cou))
cou = cou %>%
group_by(cou) %>%
summarise(no_rows = length(類型))
cou= as.factor(cou)
data.frame(cou)
cou = cou %>%
group_by(cou) %>%
summarise(no_rows = length(類型))
data.frame(cou,c(1:100))
cu = cu %>%
group_by(cou) %>%
summarise(no_rows = length(類型))
cu = data.frame(cou,c(1:100))
cou= as.factor(cou)
cou = c()
for(i in c(1:20)){
for(j in rate[[2*i-1]]){
cou = c(cou,j)
}
}
cou= as.factor(cou)
cu = data.frame(cou,c(1:100))
cu = cu %>%
group_by(cou) %>%
summarise(no_rows = length(類型))
View(cu)
cu = data.frame(cou,c(1:100))
cu = cu %>%
group_by(cou) %>%
summarise(no_rows = length(類型))
cu = cu %>%
group_by(cou) %>%
summarise(no_rows = length(類型))
cu = cu %>%
group_by(cou) %>%
summarise(no_rows = length(類型))
cu = cu %>%
group_by(cou) %>%
summarise(no_rows = length(cou))
cu
cou= as.factor(cou)
cu = data.frame(cou,c(1:100))
cu = cu %>%
group_by(cou) %>%
summarise(freq = length(cou))
cu = arrange(cu, desc(freq))
cu
plot_ly(cu, x= ~cou ,y= ~freq, type = 'histogram')
cu
plot_ly(cu, x= ~cou , type = 'histogram')
plot_ly(cu, x= ~cou ,y = ~freq,type = 'histogram')
View(cu)
plot_ly(cu, x= ~cou ,y = ~freq,histfunc='sum',type = 'histogram')
plot_ly(cu, x= ~cou ,y = ~freq,type = 'histogram')
plot_ly(cu, ,y = ~freq,type = 'histogram')
plot_ly(cu ,y = ~freq,type = 'histogram')
cou
plot_ly(cou ,x= ~cou ,type = 'histogram')
cou = data.frame(cou,c(1:100))
cu = arrange(cu, desc(freq))
cu
plot_ly(cou ,x= ~cou ,type = 'histogram')
cu
cu = cou %>%
group_by(cou) %>%
summarise(freq = length(cou))
cu = arrange(cu, desc(freq))
cu
plot_ly(cu, labels = ~cou,values = ~freq, type = 'pie') %>%
layout(title = '巴哈姆特PC遊戲評分前20類型比例',
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))

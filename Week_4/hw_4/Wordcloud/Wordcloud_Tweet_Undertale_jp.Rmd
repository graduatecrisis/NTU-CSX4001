---
title: "Wordcloud_Tweet#Undertale"
author: "Perilium"
date: "2018/10/4"
output:
  html_document: default
---
# 關於Undertale
Undertale是一款遊戲，由Toby Fox製作。適逢Undertale三周年暨Nintendo Switch上架，故以此為主題。

此次採用Twitter上的貼文做為資料來源，收集與Undertale相關的貼文並製成文字雲。 
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Libraries
Import needed libraries
```{r library}
library("wordcloud")
library("RColorBrewer")
library(tidytext)
library(dplyr)
library(stringr)
library(rtweet)
library(stopwords)
library(ggplot2)
```

## Twitter API
  Code hide for privacy and security.Example code below:  

create_token(  

     app = "Myappname",  
     consumer_key = "My consumer_key",  
     consumer_secret = "My comsumer_secret",  
     access_token = "My access_token",  
     access_secret = "My access_secret",  
)
`
```{r API, include=FALSE}
create_token(
  app = "CSX4001",
  consumer_key = "os9BSEDDSzZKaa79hWbXeAUmm",
  consumer_secret = "K6KcZy4ZhQYpFoMWKKgZjVTXKSP4gAvTc760meWwmlQLJEWsAg",
  access_token = "3301954536-dvRxov51hUw3tU8yrJJnIDGHfhL0gVimjGX92u6",
  access_secret = "4Y7uewr8SyVmdAXuFBp2jXKskaLVuasmtPoizyR2Fx2x5",
)
```

## Tweet collect
  
```{r get}
#Grab tweets
hmt <- search_tweets(
  "#undertale", n = 10000, include_rts = FALSE
)
```

## Making Cloud
遇見問題為，此次所需過濾的語言為日語，轉換編碼會出現亂碼，故先留下以資料庫初篩過後的文字雲。(文字雲內詞彙出現最低頻率為50)
```{r cloud}

#Unnest the words - code via Tidy Text
hmtTable <- hmt %>% 
  unnest_tokens(word, text)

#remove stop words - aka typically very common words such as "the", "of" etc
data(stop_words)

hmtTable <- hmtTable %>%
  anti_join(stop_words)

#Remove other nonsense words

jpstop <- stopwords::stopwords("ja", source = "stopwords-iso")
hmtTable <-hmtTable %>%  filter(!word %in%  jpstop) %>%
  filter(!word %in% c("t.co","https","undertale","art","it's","2","?`","3","day","??","1","de"))
hmtTable <- hmtTable %>%
  count(word, sort = TRUE) 
#do a word count

```

```{r output}
wordcloud(words = hmtTable$word, freq = hmtTable$n, min.freq = 50,
          random.order=FALSE, rot.per=0.35,scale = c(3, 1),
          colors=brewer.pal(12,"Paired" ))
```

除了日文以外，可以明顯看到最常出現的為NintendoSwitch，可見眾多玩家十分關注Undertale在NS平台上架的消息。

第二大的inktober2018，是由國外發起的「繪畫月」，推動會者十月每天一幅畫作的活動，可見undertale也被畫家們當作繪畫的主題之一。

除此之外，還有知名腳色如sans,frisk,chara,undyne,flowey,papyrus等等，其中以sans的出現頻率最大，可見玩家對他的喜愛。

另外還有undertaleau，意旨undertale的平行世界(AU)，此類二創在遊戲推行後也大量出現，莫不得也進入了文字雲中。

